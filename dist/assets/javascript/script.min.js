!function(){"use strict";function t(t,e,i){var s;return function(){var n=this,o=arguments,r=function(){s=null,i||t.apply(n,o)},a=i&&!s;clearTimeout(s),s=setTimeout(r,e),a&&t.apply(n,o)}}var e={selector:".slider",ease:"SlowMo",easeType:"easeOut",duration:1,nextHtml:"",prevHtml:"",arrows:!0,keyboard:!0,pagination:!0,onLeave:null,afterLoad:null},i={setStyle:function(t,e,i){t.style[e.charAt(0).toLowerCase()+e.slice(1)]=i},setVendor:function(t,e,i){t.style[e.charAt(0).toLowerCase()+e.slice(1)]=i,t.style["webkit"+e]=i,t.style["moz"+e]=i,t.style["ms"+e]=i,t.style["o"+e]=i}},s=function(t,i){return this.el=document.querySelector(t),this.settings=Object.assign({},e,i),this.body=document.querySelector("body"),this.container=this.el.querySelector(this.settings.selector+"__container"),this.items=this.el.querySelectorAll(this.settings.selector+"__item"),this.init(),this};s.prototype.init=function(){this.index=0,this.slideWidth=parseInt(getComputedStyle(this.container).width),this.build(),this.bindEvents(),this.makeActive(this.index),"function"==typeof this.settings.onLeave&&this.settings.afterLoad(this.index,this.items)},s.prototype.build=function(){this.settings.arrows&&this.appendArrows(),this.settings.pagination&&this.appendPagination()},s.prototype.bindEvents=function(){var t=this;if(this.settings.keyboard&&document.addEventListener("keydown",this.keyboard.bind(this)),this.settings.arrows&&(this.settings.nextHtml.addEventListener("click",this.moveToNext.bind(this)),this.settings.prevHtml.addEventListener("click",this.moveToPrev.bind(this))),this.settings.pagination)for(var e=document.querySelectorAll(".slider-navigation li a"),i=0;i<e.length;i++)!function(s){e[i].addEventListener("click",function(e){t.move(s),e.preventDefault()})}(i);window.addEventListener("resize",this.resize.bind(this),!1)},s.prototype.makeActive=function(t){for(var e=document.querySelectorAll(".slider-navigation li a"),i=0;i<this.items.length;i++)this.items[i].classList.remove("is-active"),e[i].classList.remove("is-active");this.items[t].classList.add("is-active"),e[t].classList.add("is-active")},s.prototype.move=function(t){var e=new TimelineLite,s=this;return this.items[t].classList.contains("is-active")||(e.eventCallback("onStart",function(){i.setStyle(s.settings.prevHtml,"pointerEvents","none"),i.setStyle(s.settings.nextHtml,"pointerEvents","none")}),"function"==typeof s.settings.onLeave&&e.add(s.settings.onLeave(s.index,s.items)),e.to(this.container,this.settings.duration,{x:-t*this.slideWidth,ease:this.settings.ease+"."+this.settings.easeType},"-=0.5"),"function"==typeof s.settings.afterLoad&&e.add(s.settings.afterLoad(t,s.items)),e.eventCallback("onComplete",function(){i.setStyle(s.settings.prevHtml,"pointerEvents","initial"),i.setStyle(s.settings.nextHtml,"pointerEvents","initial")})),this.index=t,this.makeActive(this.index),e},s.prototype.moveToNext=function(t){this.index+1<this.items.length&&this.move(this.index+1)},s.prototype.moveToPrev=function(){this.index>0&&this.move(this.index-1)},s.prototype.keyboard=function(t){37===t.keyCode&&this.moveToPrev(),39===t.keyCode&&this.moveToNext()},s.prototype.appendArrows=function(){var t=document.createElement("div");t.setAttribute("class","slider-controls");var e=document.createElement("button");e.setAttribute("type","button"),e.setAttribute("class","next");var i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute("class","previous"),this.el.appendChild(t);var s=this.el.querySelector(".slider-controls");s.appendChild(e),s.appendChild(i),this.settings.nextHtml=e,this.settings.prevHtml=i},s.prototype.appendPagination=function(){for(var t="",e=0;e<this.items.length;e++)t+='<li><a data-index="'+e+'" href="#'+e+'"></a></li>';var i=document.createElement("ul");i.setAttribute("class","slider-navigation"),i.innerHTML=t,this.body.appendChild(i)},s.prototype.resize=t(function(){var t=this;t.slideWidth=parseInt(getComputedStyle(this.container).width);var e=t.slideWidth*t.index+1;i.setVendor(t.container,"Transform","matrix(1, 0, 0, 1, -"+e+", 0)")},10),window.TuinSlide=s}(window);
var slider=new TuinSlide("#slider",{onLeave:function(e,t){var o=new TimelineLite,r=t[e],a=r.querySelectorAll(".slider__item__title"),i=(r.querySelector(".slider__content"),r.querySelector(".burger")),y=r.querySelector(".astronaut");r.querySelectorAll(".cup");return 0===e&&o.staggerFromTo(a,.8,{y:0,opacity:1},{y:-100,opacity:0,ease:Power3.easeOut},.5).to(i,.6,{x:200,opacity:0,ease:Power3.easeOut}),1===e&&o.staggerFromTo(a,.8,{y:0,opacity:1},{y:100,opacity:0,ease:Power3.easeOut},.5).to(y,.5,{y:-100,opacity:0},"=-1"),o},afterLoad:function(e,t){var o=new TimelineLite,r=t[e],a=r.querySelectorAll(".slider__item__title"),i=r.querySelector(".slider__content"),y=r.querySelector(".burger"),c=r.querySelector(".astronaut"),s=r.querySelectorAll(".cup");return TweenLite.set(i,{visibility:"visible"}),0===e&&o.staggerFromTo(a,.8,{y:100,opacity:0},{y:0,opacity:1,ease:Power3.easeOut},.5).fromTo(y,1.5,{x:100,opacity:0},{x:0,opacity:1,ease:Power3.easeOut},"-=0.6"),1===e&&o.staggerFromTo(a,.8,{y:-100,opacity:0},{y:0,opacity:1,ease:Power3.easeOut},.5).fromTo(c,.5,{y:100,opacity:0},{y:0,opacity:1},"=-1"),2===e&&o.staggerFromTo(a,.8,{y:100,opacity:0},{y:0,opacity:1,ease:Power3.easeOut},.5).staggerFromTo(s,1.5,{x:100,opacity:0},{x:0,opacity:1,ease:Power3.easeOut},.5),o}});